#!/usr/bin/python3.6

from domains import *
from dynamics import NVortexProblem
from plot import VortexPlot
from utils import star_configuration

if __name__ == '__main__':
    domain = Ellipse()
    # domain = UnitDisk()
    problem = NVortexProblem(domain, Tmax=10)
    app = VortexPlot(problem)
    x0, Gamma = ([0,3/4], [4])
    # x0, Gamma = ([-1/4, 0,0,0, 1/4, 0], [1/4, -1/4, 1/4])
    # x0, Gamma = star_configuration([1/4, 1/2, 3/4], [-3/2, 1, -1/2], 3, centralGamma=2)
    # import matplotlib.pyplot as plt
    import numpy as np
    # from utils import scatterList
    x = np.arange(-2.1, 2.1, 0.05)
    y = np.arange(-1.1, 1.1, 0.05)
    xx, yy = np.meshgrid(x, y, sparse=True)
    val = domain.JGradh(xx+ 1.j*yy)
    zx = np.real(val)
    zy = np.imag(val)
    plt.quiver(xx, yy, zx, zy)
    # h = plt.contour(x,y,z, levels=np.arange(-2,2,.05))
    # plt.clabel(h, inline=1, fontsize=6)
    # app.animate(x0, Gamma)
    # plt.figure()
    # plt.contour(x,y,z)
    plt.show()
    #
    # sol = problem.HamiltonianSolution(x0, Gamma)
    # # print(sol)
    # cpx = np.array([x[0][0]+1.j*x[0][1] for x in sol])
    # print(domain.h(cpx))
